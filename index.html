<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Projects</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/bulma.min.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
  </head>
  <body
    class="has-background-white is-flex is-flex-direction-column min-vh-100"
  >
    <main class="section is-flex-grow-1">
      <div class="container">
        <section class="section">
          <div class="container">
            <div class="container mb-3">
              <div
                class="columns is-vcentered is-mobile is-variable is-justify-content-space-between"
              >
                <div class="column">
                  <h1 class="title has-text-info">Robbo-lab Home</h1>
                  <p class="subtitle has-text-grey is-5">
                    This site uses Vanilla JavaScript & Bulma
                  </p>
                </div>

                <div class="column is-narrow is-hidden-mobile has-text-right">
                  <button
                    id="themeToggle"
                    class="button is-small is-warning is-outlined"
                  >
                    Dark Mode
                  </button>
                </div>

                <div class="column is-narrow is-hidden-mobile has-text-right">
                  <figure class="image is-128x128">
                    <img
                      class="is-rounded"
                      src="assets/tafe_head.jpeg"
                      alt="Robbo logo"
                    />
                  </figure>
                </div>
              </div>
            </div>
            <div class="field has-addons mb-3">
              <div class="control is-expanded">
                <input
                  id="searchInput"
                  class="input"
                  type="text"
                  placeholder="Search projects..."
                />
              </div>
              <div class="control">
                <div class="select">
                  <select id="categoryFilter">
                    <option value="">All Categories</option>
                    <option value="Web">Web</option>
                    <option value="Mobile">Mobile</option>
                    <option value="AI">AI</option>
                    <option value="Data Science">Data Science</option>
                    <option value="Utilities">Utilities</option>
                  </select>
                </div>
              </div>
            </div>
            <div
              id="offlineBadge"
              class="notification is-info is-light is-outline is-hidden"
            >
              You are currently offline.
            </div>

            <section class="container pl-1">
              <div class="buttons">
                <button
                  class="button is-small is-success is-outlined"
                  id="sortName"
                >
                  Sort by Name
                </button>
                <button
                  class="button is-small is-info is-outlined"
                  id="sortDate"
                >
                  Sort by Date
                </button>
                <button
                  id="showfavouritesBtn"
                  class="button is-small is-outlined is-danger"
                >
                  â˜… Show favourites
                </button>
              </div>
            </section>
            <div id="projectContainer" class="columns is-multiline mt-4"></div>
          </div>
        </section>

        <div class="modal" id="projectModal">
          <div class="modal-background"></div>
          <div class="modal-card">
            <header class="modal-card-head">
              <p class="modal-card-title" id="modalTitle"></p>
              <button
                class="delete"
                aria-label="close"
                id="closeModal"
              ></button>
            </header>
            <section class="modal-card-body" id="modalContent"></section>
            <footer
              class="modal-card-foot has-backgournd-white is-justify-content-flex-end"
              id="modalFooter"
            ></footer>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer has-background-dark p-5">
      <div class="container has-text-centered">
        <link-component></link-component>
        <p id="footerText" class="has-text-centered is-size-7 has-text-light">
          &copy; <span id="footerYear"></span> Robbo-lab. All rights reserved.
        </p>
      </div>
    </footer>

    <script>
      // Set the current year dynamically
      document.getElementById("footerYear").textContent =
        new Date().getFullYear();
    </script>

    <script type="module" src="js/app.js"></script>

    <!-- Web Component Definition -->
    <script type="module">
      class LinkComponent extends HTMLElement {
        connectedCallback() {
          this.innerHTML = `
        <div class="is-flex is-justify-content-center is-align-items-center py-3">
          <a
            href="https://portfolio.room5.au"
            class="mx-3 has-text-light"
            aria-label="Portfolio"
            title="Go to Portfolio"
            target="_blank"
            rel="noopener"
          >
            <span class="icon is-small">
              <i class="fa-solid fa-briefcase"></i>
            </span>
          </a>

          <a
            href="http://192.168.0.11:19999"
            class="mx-3 has-text-light"
            aria-label="Dashboard"
            title="Go to Dashboard"
            target="_blank"
            rel="noopener"
          >
            <span class="icon is-small">
              <i class="fa-solid fa-gauge-high"></i>
            </span>
          </a>

          <a
            href="http://192.168.0.11:5000"
            class="mx-3 has-text-light"
            aria-label="Project"
            title="Go to Project"
            target="_blank"
            rel="noopener"
          >
            <span class="icon is-small">
              <i class="fa-solid fa-code"></i>
            </span>
          </a>

          <a
            href="https://www.linkedin.com/in/jrobertson1"
            class="mx-3 has-text-light"
            aria-label="LinkedIn"
            title="LinkedIn Profile"
            target="_blank"
            rel="noopener"
          >
            <span class="icon is-small">
              <i class="fa-brands fa-linkedin"></i>
            </span>
          </a>

          <a
            href="https://github.com/Robbo-lab"
            class="mx-3 has-text-light"
            aria-label="GitHub"
            title="GitHub Profile"
            target="_blank"
            rel="noopener"
          >
            <span class="icon is-small">
              <i class="fa-brands fa-github"></i>
            </span>
          </a>
        </div>
      `;
        }
      }
      customElements.define("link-component", LinkComponent);
    </script>
  </body>
</html>
